<!DOCTYPE html>
<html>
<head>
<title> Gress.ru </title>
    <!-- Meta -->
	<!-- Meta character set -->
    <meta charset="utf-8">
	<!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Meta Description -->
    <meta name="description" content="">  <!--описание при запросе в поисковой системе-->
	<!-- Favicon-->
		<link rel="shortcut icon" href=""> <!--картинка слева от адреса в поисковой строке-->


    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">

	<!--CSS-->
			<!--<link rel="stylesheet" href="css/bootstrap.css">-->
			<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
			<link rel="stylesheet" href="css/main.css">

</head>
<body>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

			<!-- Start Header Area -->
				<nav class="navbar navbar-expand-sm navbar-light fixed-top default-header">
          <div class="container">
						  <a class="navbar-brand" href="">
						  <!--logo-->
						  	<img src="" alt="">
						  </a>
              <!--right side navigation-->
						  <div class="collapse navbar-collapse " id="navbarSupportedContent">
						    <ul class="navbar-nav ml-auto">
  								<li class="nav-item"><a href="">projects</a></li>
  								<li class="nav-item"><a href="sign_up_log_in.html">sign up</a></li>
  								<li class="nav-item"><a href="sign_up_log_in.html">log in</a></li>
						    </ul>
						  </div>
          </div>
				</nav>
			<!-- End Header Area -->


      <!-- Page Content -->
      <div class="container-fluid mt-6"> <!-- С mt-6 костыль, пофикшу позже -->
        <div class="row">

          <!-- Left side dropdown -->
          <div class="col-lg-2 col-sm-12 text-center">
            <div class="dropdown">
              <a class="dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">Select a category</a>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="#">IT</a>
                <a class="dropdown-item" href="#">Art</a>
                <a class="dropdown-item" href="#">Sociale</a>
              </div>
            </div>
          </div>

          <!-- Main projects page -->

            <!-- Этот блок будет переписан, здесь будем парсить json и вставлять проекты, смотря на пришедшее количество -->

          <div class="col-lg-9 col-sm-12">
      			<div class = "row" >

                    <div class="col-lg-3 col-md-4 col-sm-12 project" >
                      <div class="card">
                          <img class="card-img-top" src="img/011.jpg" alt="First Project Image">
                          <div class="card-body">
                            <h4 class="card-title text-uppercase ">Galaxian game</h4>
                            <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                            <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">IT</span>
                          </div>
                     </div>
                    </div>

                    <div class="col-lg-3 col-md-4 col-sm-12">
                      <div class="card">
                          <img class="card-img-top" src="img/05.jpg" alt="First Project Image">
                          <div class="card-body">
                            <h4 class="card-title text-uppercase ">Galaxian game</h4>
                            <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                            <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">Art</span>
                          </div>
                      </div>
                    </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/011.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">Social</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/05.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">IT</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/011.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">IT</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/05.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">Art</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/011.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">Social</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/05.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">IT</span>
                      </div>
                  </div>
                </div>


                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/011.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">IT</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/05.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">Art</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/011.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">Social</span>
                      </div>
                  </div>
                </div>

                <div class="col-lg-3 col-md-4 col-sm-12">
                  <div class="card">
                      <img class="card-img-top" src="img/05.jpg" alt="First Project Image">
                      <div class="card-body">
                        <h4 class="card-title text-uppercase ">Galaxian game</h4>
                        <p class="card-text">Galaxian expanded on the formula pioneered by Space Invaders. As in the earlier game, Galaxian features a horde of attacking aliens.</p>
                        <a class="link " href="#">Read More</a> <span class="text-uppercase float-right ">IT</span>
                      </div>
                  </div>
                </div>


                <div class="loading" id="load">
                    <img src="img/loading.gif" style="width: 250px" alt="loadgif">
                </div>

                <script type="text/javascript">
                    jQuery(document).ready(function ($) {
                        $(window).scroll(function () {
                            if ($(window).height() + $(window).scrollTop() >= $(document).height()) {
                                $.ajax({
                                    dataType: "json",
                                    type: 'GET',
                                    url: 'localhost:3000/client/package.json',
                                    success: function (jsonPackage) {
                                        stopLoading();
                                        if (jsonPackage !== '') {
                                              setToPage(jsonPackage);
                                          }
                                    }
                                });
                                startLoading();
                            }
                        });

                        // Ты скажешь мне, что так пишут только идиоты
                        // На что я отвечу: "на стэковерфлоу был только такой пример"
                        var layout = '<div class="col-lg-3 col-md-4 col-sm-12">';
                        layout += '<div class="card">';
                        layout += '<img class="card-img-top projectImage">';
                        layout += '<div class="card-body">';
                        layout += '<h4 class="card-title text-uppercase projectTitle">Sometitle</h4>';
                        layout += '<p class="card-text projectText">sometext</p>';
                        layout += '<a class="link projectLink" href="#">Read More</a>';
                        layout += '<span class="text-uppercase float-right projectTag">IT</span>';
                        layout += '</div>';
                        layout += '</div>';
                        layout += '</div>';

                        function setToPage(jsonPackage) {
                            var parsedData = JSON.parse(jsonPackage);
                            var counter = parsedData.count;
                            for (var i=0; i<counter; i++) {
                                $('.project').append(layout);
                                var projImg = parsedData[i].img;
                                var $img = $("<img>"); // ???
                                $img.attr("src", "img/" + projImg); // Check the path (!)
                                $(".projectImage:eq("+i+")").append($img); // Check the :eq("+i+")"
                                var projTitle = parsedData[i].title;
                                $(".projectTitle:eq("+i+")").append(projTitle);
                                var projText = parsedData[i].description;
                                $(".projectText:eq("+i+")").append(projText);
                                var projLink = parsedData[i].url;
                                $(".projectLink:eq("+i+")").append(projLink);
                                var projTag = parsedData[i].tag;
                                $(".projectTag:eq("+i+")").append(projTag);
                            }
                        }

                        function startLoading() {
                            $("#load").fadeIn(300);
                        }

                        function stopLoading() {
                            $('#load').fadeOut();
                        }
                    });
                </script>

             </div> <!-- end row -->
           </div> <!-- end col-lg-9 id="projects" -->


          </div> <!-- end row Page Content-->
        </div> <!-- end container Page Content-->
      <!-- End of Page Content -->

</body>
</html>
